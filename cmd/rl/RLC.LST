                                ;*** AILZ80ASM *** Z-80 Assembler, version 1.0.0.0, LST:Full:4
                                
                                ;   Remote Link Client
                                
       0005                     SYSTEM  EQU 0005H
       CE06                     PGM EQU 0CE06H
       F000                     LDBIOS  EQU 0F000H
       F100                     STABLE  EQU 0F100H
       F087                     _DVSW   EQU LDBIOS+87H
       F08A                     _DTA    EQU LDBIOS+8AH
       F098                     _FCB    EQU LDBIOS+98H
                                
000000 0100                         ORG 0100H
000000 0100 C32D01          10      JP  START
       0103                     TITLE:
000003 0103 58312052656D6F74        DB  "X1 Remote Link Client v1.04"
            65204C696E6B2043    
            6C69656E74207631    
            2E3034              
00001E 011E 0D0A24                  DB  0DH,0AH,"$"
       0121                     INSTALL:
000021 0121 496E7374616C6C65        DB  "Installed",0DH,0AH,"$"
            640D0A24            
                                
       012D                     START:
00002D 012D 110301          10      LD  DE,TITLE
000030 0130 0E09             7      LD  C,9
000032 0132 CD0500          17      CALL    SYSTEM
                                
000035 0135 01A11F          10      LD  BC,1FA1H
000038 0138 3E47             7      LD  A,47H
00003A 013A ED79            12      OUT (C),A
00003C 013C 3E01             7      LD  A,1     ;ÎÞ°Ú°Ä 125000
00003E 013E ED79            12      OUT (C),A
                                
000040 0140 01911F          10      LD  BC,1F91H
000043 0143 210A02          10      LD  HL,SIODATA
       0146                     SINIT1:
000046 0146 7E               7      LD  A,(HL)
000047 0147 23               6      INC HL
000048 0148 FEFF             7      CP  0FFH
00004A 014A 2804            12      JR  Z,SINIT2
00004C 014C ED79            12      OUT (C),A
00004E 014E 18F6            12      JR  SINIT1
       0150                     SINIT2:
000050 0150 2A0600          16      LD  HL,(SYSTEM+1)
000053 0153 1106CE          10      LD  DE,PGM
000056 0156 37               4      SCF
000057 0157 ED52            15      SBC HL,DE
000059 0159 D8              11      RET C
                                
00005A 015A F3               4      DI
00005B 015B 211602          10      LD  HL,TSR
00005E 015E 1106CE          10      LD  DE,PGM
000061 0161 013703          10      LD  BC,FIN-PGM
000064 0164 EDB0                    LDIR
000066 0166 2A0600          16      LD  HL,(SYSTEM+1)
000069 0169 2209CE          16      LD  (PGM+3),HL
                                
00006C 016C 23               6      INC HL
00006D 016D 7E               7      LD  A,(HL)
00006E 016E 23               6      INC HL
00006F 016F 66               7      LD  H,(HL)
000070 0170 6F               4      LD  L,A
000071 0171 2207CE          16      LD  (PGM+1),HL
                                
000074 0174 2106CE          10      LD  HL,PGM
000077 0177 220600          16      LD  (SYSTEM+1),HL
                                
00007A 017A 2A1CF1          16      LD  HL,(STABLE+2*0EH)
00007D 017D 2211CE          16      LD  (O0E+1),HL
000080 0180 2132CE          10      LD  HL,S0E
000083 0183 221CF1          16      LD  (STABLE+2*0EH),HL
                                
000086 0186 2A1EF1          16      LD  HL,(STABLE+2*0FH)
000089 0189 2214CE          16      LD  (O0F+1),HL
00008C 018C 2141CE          10      LD  HL,S0F
00008F 018F 221EF1          16      LD  (STABLE+2*0FH),HL
                                
000092 0192 2A20F1          16      LD  HL,(STABLE+2*10H)
000095 0195 2217CE          16      LD  (O10+1),HL
000098 0198 216ACE          10      LD  HL,S10
00009B 019B 2220F1          16      LD  (STABLE+2*10H),HL
                                
00009E 019E 2A22F1          16      LD  HL,(STABLE+2*11H)
0000A1 01A1 221ACE          16      LD  (O11+1),HL
0000A4 01A4 2184CE          10      LD  HL,S11
0000A7 01A7 2222F1          16      LD  (STABLE+2*11H),HL
                                
0000AA 01AA 2A24F1          16      LD  HL,(STABLE+2*12H)
0000AD 01AD 221DCE          16      LD  (O12+1),HL
0000B0 01B0 21C3CE          10      LD  HL,S12
0000B3 01B3 2224F1          16      LD  (STABLE+2*12H),HL
                                
0000B6 01B6 2A26F1          16      LD  HL,(STABLE+2*13H)
0000B9 01B9 2220CE          16      LD  (O13+1),HL
0000BC 01BC 21E0CE          10      LD  HL,S13
0000BF 01BF 2226F1          16      LD  (STABLE+2*13H),HL
                                
0000C2 01C2 2A2CF1          16      LD  HL,(STABLE+2*16H)
0000C5 01C5 2223CE          16      LD  (O16+1),HL
0000C8 01C8 21F8CE          10      LD  HL,S16
0000CB 01CB 222CF1          16      LD  (STABLE+2*16H),HL
                                
0000CE 01CE 2A2EF1          16      LD  HL,(STABLE+2*17H)
0000D1 01D1 2226CE          16      LD  (O17+1),HL
0000D4 01D4 2122CF          10      LD  HL,S17
0000D7 01D7 222EF1          16      LD  (STABLE+2*17H),HL
                                
0000DA 01DA 2A36F1          16      LD  HL,(STABLE+2*1BH)
0000DD 01DD 2229CE          16      LD  (O1B+1),HL
0000E0 01E0 213BCF          10      LD  HL,S1B
0000E3 01E3 2236F1          16      LD  (STABLE+2*1BH),HL
                                
0000E6 01E6 2A4CF1          16      LD  HL,(STABLE+2*26H)
0000E9 01E9 222CCE          16      LD  (O26+1),HL
0000EC 01EC 2176CF          10      LD  HL,S26
0000EF 01EF 224CF1          16      LD  (STABLE+2*26H),HL
                                
0000F2 01F2 2A4EF1          16      LD  HL,(STABLE+2*27H)
0000F5 01F5 222FCE          16      LD  (O27+1),HL
0000F8 01F8 21AFCF          10      LD  HL,S27
0000FB 01FB 224EF1          16      LD  (STABLE+2*27H),HL
                                
0000FE 01FE FB               4      EI
0000FF 01FF 112101          10      LD  DE,INSTALL
000102 0202 0E09             7      LD  C,9
000104 0204 CD0500          17      CALL    SYSTEM
000107 0207 C30000          10      JP  0
                                
       020A                     SIODATA:
00010A 020A 18                      DB  18H
00010B 020B 0100                    DB  1,0
00010D 020D 0200                    DB  2,0
00010F 020F 03C1                    DB  3,0C1H
000111 0211 0444                    DB  4,44H
000113 0213 05E8                    DB  5,0E8H
000115 0215 FF                      DB  0FFH
                                
       0216                     TSR:
000116 CE06                         ORG PGM,TSR-0100H
                                
000116 CE06 C30000          10      JP  0       ;+1 SYSTEM CALL
000119 CE09 0000                    DW  0       ;+3 NEXT
00011B CE0B 5B524C4300              DB  "[RLC",0    ;+5 NAME
                                
000120 CE10 C30000          10  O0E:    JP  0
000123 CE13 C30000          10  O0F:    JP  0
000126 CE16 C30000          10  O10:    JP  0
000129 CE19 C30000          10  O11:    JP  0
00012C CE1C C30000          10  O12:    JP  0
00012F CE1F C30000          10  O13:    JP  0
000132 CE22 C30000          10  O16:    JP  0
000135 CE25 C30000          10  O17:    JP  0
000138 CE28 C30000          10  O1B:    JP  0
00013B CE2B C30000          10  O26:    JP  0
00013E CE2E C30000          10  O27:    JP  0
000141 CE31 E8                  WR5:    DB  0E8H
       CE32                     S0E:
000142 CE32 7B               4      LD  A,E
000143 CE33 FE1A             7      CP  26
000145 CE35 30D9            12      JR  NC,O0E
000147 CE37 FE08             7      CP  8
000149 CE39 38D5            12      JR  C,O0E
                                
00014B CE3B 3287F0          13      LD  (_DVSW),A
00014E CE3E 3E1A             7      LD  A,26
000150 CE40 C9              10      RET
                                
       CE41                     S0F:
000151 CE41 CD1CD0          17      CALL    GETDRV
000154 CE44 12               7      LD  (DE),A
000155 CE45 38CC            12      JR  C,O0F
                                
000157 CE47 3E0F             7      LD  A,0FH
000159 CE49 CDFECF          17      CALL    COMMAND
                                
00015C CE4C 5D               4      LD  E,L
00015D CE4D D4A5D0          17      CALL    NC,XMIT
000160 CE50 5C               4      LD  E,H
000161 CE51 D4A5D0          17      CALL    NC,XMIT
                                
000164 CE54 E5              11      PUSH    HL
000165 CE55 0610             7      LD  B,16
000167 CE57 D43CD0          17      CALL    NC,XMITX
                                
00016A CE5A D4E1D0          17      CALL    NC,RECV
00016D CE5D E1              10      POP HL
00016E CE5E B7               4      OR  A
00016F CE5F 205C            12      JR  NZ,SERR
                                
000171 CE61 0620             7      LD  B,32
000173 CE63 CD74D0          17      CALL    RECVX
                                
000176 CE66 3054            12      JR  NC,SOK
000178 CE68 1853            12      JR  SERR
                                
       CE6A                     S10:
00017A CE6A CD1CD0          17      CALL    GETDRV
00017D CE6D 12               7      LD  (DE),A
00017E CE6E 38A6            12      JR  C,O10
                                
000180 CE70 3E10             7      LD  A,10H
000182 CE72 CDFECF          17      CALL    COMMAND
                                
000185 CE75 E5              11      PUSH    HL
000186 CE76 0620             7      LD  B,32
000188 CE78 D43CD0          17      CALL    NC,XMITX
                                
00018B CE7B D4E1D0          17      CALL    NC,RECV
00018E CE7E E1              10      POP HL
00018F CE7F B7               4      OR  A
000190 CE80 283A            12      JR  Z,SOK
000192 CE82 1839            12      JR  SERR
                                
       CE84                     S11:
000194 CE84 CD1CD0          17      CALL    GETDRV
000197 CE87 12               7      LD  (DE),A
000198 CE88 388F            12      JR  C,O11
                                
00019A CE8A ED5398F0        20      LD  (_FCB),DE
00019E CE8E 3E11             7      LD  A,11H
0001A0 CE90 CDFECF          17      CALL    COMMAND
                                
0001A3 CE93 0610             7      LD  B,16
0001A5 CE95 D43CD0          17      CALL    NC,XMITX
                                
0001A8 CE98 D4E1D0          17      CALL    NC,RECV
0001AB CE9B B7               4      OR  A
0001AC CE9C 201F            12      JR  NZ,SERR
                                
0001AE CE9E DD2A98F0        20      LD  IX,(_FCB)
0001B2 CEA2 CDE1D0          17      CALL    RECV
0001B5 CEA5 3816            12      JR  C,SERR
0001B7 CEA7 DD770E          19      LD  (IX+14),A
0001BA CEAA CDE1D0          17      CALL    RECV
0001BD CEAD 380E            12      JR  C,SERR
0001BF CEAF DD770F          19      LD  (IX+15),A
       CEB2                     S12A:
0001C2 CEB2 2A8AF0          16      LD  HL,(_DTA)
0001C5 CEB5 0621             7      LD  B,33
0001C7 CEB7 CD74D0          17      CALL    RECVX
0001CA CEBA 3801            12      JR  C,SERR
       CEBC                     SOK:
0001CC CEBC AF               4      XOR A
       CEBD                     SERR:
0001CD CEBD DDE1            14      POP IX
0001CF CEBF C1              10      POP BC
0001D0 CEC0 D1              10      POP DE
0001D1 CEC1 E1              10      POP HL
0001D2 CEC2 C9              10      RET
                                
       CEC3                     S12:
0001D3 CEC3 D5              11      PUSH    DE
0001D4 CEC4 ED5B98F0        20      LD  DE,(_FCB)
0001D8 CEC8 CD1CD0          17      CALL    GETDRV
0001DB CECB 12               7      LD  (DE),A
0001DC CECC D1              10      POP DE
0001DD CECD DA1CCE          10      JP  C,O12
                                
0001E0 CED0 3E12             7      LD  A,12H
0001E2 CED2 CDFECF          17      CALL    COMMAND
0001E5 CED5 DABDCE          10      JP  C,SERR
                                
0001E8 CED8 CDE1D0          17      CALL    RECV
0001EB CEDB B7               4      OR  A
0001EC CEDC 28D4            12      JR  Z,S12A
0001EE CEDE 18DD            12      JR  SERR
                                
       CEE0                     S13:
0001F0 CEE0 CD1CD0          17      CALL    GETDRV
0001F3 CEE3 12               7      LD  (DE),A
0001F4 CEE4 DA1FCE          10      JP  C,O13
                                
0001F7 CEE7 3E13             7      LD  A,13H
       CEE9                     S17A:
0001F9 CEE9 CDFECF          17      CALL    COMMAND
                                
0001FC CEEC 0610             7      LD  B,16
0001FE CEEE D43CD0          17      CALL    NC,XMITX
                                
000201 CEF1 D4E1D0          17      CALL    NC,RECV
000204 CEF4 30C6            12      JR  NC,SOK
000206 CEF6 18C5            12      JR  SERR
                                
       CEF8                     S16:
000208 CEF8 CD1CD0          17      CALL    GETDRV
00020B CEFB 12               7      LD  (DE),A
00020C CEFC DA22CE          10      JP  C,O16
                                
00020F CEFF 3E16             7      LD  A,16H
000211 CF01 CDFECF          17      CALL    COMMAND
                                
000214 CF04 5D               4      LD  E,L
000215 CF05 D4A5D0          17      CALL    NC,XMIT
000218 CF08 5C               4      LD  E,H
000219 CF09 D4A5D0          17      CALL    NC,XMIT
                                
00021C CF0C E5              11      PUSH    HL
00021D CF0D 0610             7      LD  B,16
00021F CF0F D43CD0          17      CALL    NC,XMITX
                                
000222 CF12 D4E1D0          17      CALL    NC,RECV
000225 CF15 E1              10      POP HL
000226 CF16 B7               4      OR  A
000227 CF17 20A4            12      JR  NZ,SERR
                                
000229 CF19 0620             7      LD  B,32
00022B CF1B CD74D0          17      CALL    RECVX
                                
00022E CF1E 309C            12      JR  NC,SOK
000230 CF20 189B            12      JR  SERR
                                
       CF22                     S17:
000232 CF22 CD1CD0          17      CALL    GETDRV
000235 CF25 12               7      LD  (DE),A
000236 CF26 DA25CE          10      JP  C,O17
                                
000239 CF29 3E17             7      LD  A,17H
00023B CF2B CDFECF          17      CALL    COMMAND
                                
00023E CF2E 061C             7      LD  B,16+12
000240 CF30 D43CD0          17      CALL    NC,XMITX
                                
000243 CF33 D4E1D0          17      CALL    NC,RECV
000246 CF36 D2BCCE          10      JP  NC,SOK
000249 CF39 1882            12      JR  SERR
                                
       CF3B                     S1B:
00024B CF3B 7B               4      LD  A,E
00024C CF3C CD1DD0          17      CALL    GETDRV1
00024F CF3F DA28CE          10      JP  C,O1B
                                
000252 CF42 57               4      LD  D,A
000253 CF43 1E1B             7      LD  E,1BH
000255 CF45 CDA5D0          17      CALL    XMIT
                                
000258 CF48 D4E1D0          17      CALL    NC,RECV
00025B CF4B B7               4      OR  A
00025C CF4C C0              11      RET NZ
                                
00025D CF4D 5A               4      LD  E,D
00025E CF4E CDA5D0          17      CALL    XMIT
000261 CF51 D8              11      RET C
000262 CF52 2135D1          10      LD  HL,DATA
000265 CF55 0608             7      LD  B,8
000267 CF57 CD74D0          17      CALL    RECVX
00026A CF5A D8              11      RET C
00026B CF5B 3A35D1          13      LD  A,(DATA)
00026E CF5E ED4B37D1        20      LD  BC,(DATA+2)
000272 CF62 ED5B39D1        20      LD  DE,(DATA+4)
000276 CF66 2A3BD1          16      LD  HL,(DATA+6)
000279 CF69 FD2136D1        14      LD  IY,DATA+1
00027D CF6D DD2135D1        14      LD  IX,DATA
000281 CF71 DD360000        19      LD  (IX+0),0
000285 CF75 C9              10      RET
                                
       CF76                     S26:
000286 CF76 CD1CD0          17      CALL    GETDRV
000289 CF79 12               7      LD  (DE),A
00028A CF7A DA2BCE          10      JP  C,O26
                                
00028D CF7D 228CCF          16      LD  (PAT26+1),HL
000290 CF80 3E26             7      LD  A,26H
000292 CF82 CDFBCF          17      CALL    COMMAND2
                                
000295 CF85 E5              11      PUSH    HL
000296 CF86 0624             7      LD  B,36
000298 CF88 D43CD0          17      CALL    NC,XMITX
                                
00029B CF8B 210000          10  PAT26:  LD  HL,0
00029E CF8E 5D               4      LD  E,L
00029F CF8F D4A5D0          17      CALL    NC,XMIT
0002A2 CF92 5C               4      LD  E,H
0002A3 CF93 D4A5D0          17      CALL    NC,XMIT
                                
0002A6 CF96 EB               4      EX  DE,HL
0002A7 CF97 2A8AF0          16      LD  HL,(_DTA)
0002AA CF9A D42AD0          17      CALL    NC,XMITW
                                
0002AD CF9D D4E1D0          17      CALL    NC,RECV
0002B0 CFA0 FEFF             7      CP  $FF
0002B2 CFA2 E1              10      POP HL
0002B3 CFA3 2805            12      JR  Z,RBWERR
                                
0002B5 CFA5 0624             7      LD  B,36
0002B7 CFA7 CD74D0          17      CALL    RECVX
       CFAA                     RBWERR:
0002BA CFAA DDE1            14      POP IX
0002BC CFAC C1              10      POP BC
0002BD CFAD D1              10      POP DE
0002BE CFAE C9              10      RET
                                
       CFAF                     S27:
0002BF CFAF CD1CD0          17      CALL    GETDRV
0002C2 CFB2 12               7      LD  (DE),A
0002C3 CFB3 DA2ECE          10      JP  C,O27
                                
0002C6 CFB6 22C5CF          16      LD  (PAT27+1),HL
0002C9 CFB9 3E27             7      LD  A,27H
0002CB CFBB CDFBCF          17      CALL    COMMAND2
                                
0002CE CFBE E5              11      PUSH    HL
0002CF CFBF 0624             7      LD  B,36
0002D1 CFC1 D43CD0          17      CALL    NC,XMITX
                                
0002D4 CFC4 210000          10  PAT27:  LD  HL,0
0002D7 CFC7 5D               4      LD  E,L
0002D8 CFC8 D4A5D0          17      CALL    NC,XMIT
0002DB CFCB 5C               4      LD  E,H
0002DC CFCC D4A5D0          17      CALL    NC,XMIT
                                
0002DF CFCF D4E1D0          17      CALL    NC,RECV
0002E2 CFD2 FEFF             7      CP  $FF
0002E4 CFD4 E1              10      POP HL
0002E5 CFD5 281F            12      JR  Z,RBRERR
                                
0002E7 CFD7 F5              11      PUSH    AF
0002E8 CFD8 0624             7      LD  B,36
0002EA CFDA CD74D0          17      CALL    RECVX
                                
0002ED CFDD D4E1D0          17      CALL    NC,RECV
0002F0 CFE0 5F               4      LD  E,A
0002F1 CFE1 D4E1D0          17      CALL    NC,RECV
                                
0002F4 CFE4 57               4      LD  D,A
0002F5 CFE5 D5              11      PUSH    DE
0002F6 CFE6 2A8AF0          16      LD  HL,(_DTA)
                                
0002F9 CFE9 D462D0          17      CALL    NC,RECVW
                                
0002FC CFEC E1              10      POP HL
0002FD CFED 3005            12      JR  NC,RBRERR2
0002FF CFEF F1              10      POP AF
000300 CFF0 37               4      SCF
000301 CFF1 9F               4      SBC A,A
000302 CFF2 1802            12      JR  RBRERR
       CFF4                     RBRERR2:
000304 CFF4 F1              10      POP AF
000305 CFF5 A7               4      AND A
       CFF6                     RBRERR:
000306 CFF6 DDE1            14      POP IX
000308 CFF8 C1              10      POP BC
000309 CFF9 D1              10      POP DE
00030A CFFA C9              10      RET
                                
       CFFB                     COMMAND2:
00030B CFFB E1              10      POP HL
00030C CFFC 1801            12      JR  COMMAND3
       CFFE                     COMMAND:
00030E CFFE E3              19      EX  (SP),HL     ;PUSH   HL
       CFFF                     COMMAND3:
00030F CFFF D5              11      PUSH    DE
000310 D000 C5              11      PUSH    BC
000311 D001 DDE5            15      PUSH    IX
000313 D003 E5              11      PUSH    HL      ;PC
000314 D004 EB               4      EX  DE,HL
000315 D005 5F               4      LD  E,A     ;A=Command
000316 D006 01911F          10      LD  BC,1F91H
       D009                     COM1:
000319 D009 ED78            12      IN  A,(C)
00031B D00B 0F               4      RRCA            ;±×²ÍÞÙ
00031C D00C 3006            12      JR  NC,COM2
00031E D00E 0D               4      DEC C
00031F D00F ED78            12      IN  A,(C)       ;ÃÞ°À ÖÐÀÞ¼
000321 D011 0C               4      INC C
000322 D012 18F5            12      JR  COM1
       D014                     COM2:
000324 D014 CDA5D0          17      CALL    XMIT
                                
000327 D017 D4E1D0          17      CALL    NC,RECV
00032A D01A B7               4      OR  A
00032B D01B C9              10      RET
                                
       D01C                     GETDRV:
00032C D01C 1A               7      LD  A,(DE)
       D01D                     GETDRV1:
00032D D01D E67F             7      AND 7FH
00032F D01F D601             7      SUB 01H
000331 D021 3003            12      JR  NC,GETDRV2
000333 D023 3A87F0          13      LD  A,(_DVSW)
       D026                     GETDRV2:
000336 D026 3C               4      INC A
000337 D027 FE09             7      CP  9
000339 D029 C9              10      RET
                                
       D02A                     XMITW:
00033A D02A 14               4      INC D
       D02B                     XMITW1:
00033B D02B 15               4      DEC D
00033C D02C 280A            12      JR  Z,XMITW2
00033E D02E D5              11      PUSH    DE
00033F D02F 0600             7      LD  B,0
000341 D031 CD3CD0          17      CALL    XMITX
000344 D034 D1              10      POP DE
000345 D035 30F4            12      JR  NC,XMITW1
000347 D037 C9              10      RET
       D038                     XMITW2:
000348 D038 7B               4      LD  A,E
000349 D039 B3               4      OR  E
00034A D03A C8              11      RET Z
00034B D03B 43               4      LD  B,E
                                
       D03C                     XMITX:
00034C D03C DD210000        14      LD  IX,0
000350 D040 1600             7      LD  D,0
000352 D042 48               4      LD  C,B
       D043                     XMITX1:
000353 D043 5E               7      LD  E,(HL)
000354 D044 23               6      INC HL
000355 D045 DD19            15      ADD IX,DE
000357 D047 CDA5D0          17      CALL    XMIT
00035A D04A D8              11      RET C
00035B D04B 10F6            13      DJNZ    XMITX1
                                
00035D D04D DD5D             9      LD  E,IXL
00035F D04F CDA5D0          17      CALL    XMIT
000362 D052 DD5C             9      LD  E,IXH
000364 D054 D4A5D0          17      CALL    NC,XMIT
000367 D057 D8              11      RET C
                                
000368 D058 CDE1D0          17      CALL    RECV
00036B D05B B7               4      OR  A
00036C D05C C8              11      RET Z
                                
00036D D05D ED42            15      SBC HL,BC
00036F D05F 41               4      LD  B,C
000370 D060 18DA            12      JR  XMITX
                                
       D062                     RECVW:
000372 D062 14               4      INC D
       D063                     RECVW1:
000373 D063 15               4      DEC D
000374 D064 280A            12      JR  Z,RECVW2
000376 D066 D5              11      PUSH    DE
000377 D067 0600             7      LD  B,0
000379 D069 CD74D0          17      CALL    RECVX
00037C D06C D1              10      POP DE
00037D D06D 30F4            12      JR  NC,RECVW1
00037F D06F C9              10      RET
       D070                     RECVW2:
000380 D070 7B               4      LD  A,E
000381 D071 B3               4      OR  E
000382 D072 C8              11      RET Z
000383 D073 43               4      LD  B,E
                                
       D074                     RECVX:
000384 D074 DD210000        14      LD  IX,0
000388 D078 1600             7      LD  D,0
00038A D07A 48               4      LD  C,B
       D07B                     RECVX1:
00038B D07B CDE1D0          17      CALL    RECV
00038E D07E D8              11      RET C
00038F D07F 77               7      LD  (HL),A
000390 D080 23               6      INC HL
000391 D081 5F               4      LD  E,A
000392 D082 DD19            15      ADD IX,DE
000394 D084 10F5            13      DJNZ    RECVX1
                                
000396 D086 CDE1D0          17      CALL    RECV
000399 D089 D8              11      RET C
00039A D08A 5F               4      LD  E,A
00039B D08B CDE1D0          17      CALL    RECV
00039E D08E D8              11      RET C
00039F D08F 57               4      LD  D,A
                                
0003A0 D090 DD7D             9      LD  A,IXL
0003A2 D092 BB               4      CP  E
0003A3 D093 2008            12      JR  NZ,RECVX2
0003A5 D095 DD7C             9      LD  A,IXH
0003A7 D097 92               4      SUB D
0003A8 D098 2003            12      JR  NZ,RECVX2
0003AA D09A 5F               4      LD  E,A
0003AB D09B 1808            12      JR  XMIT
       D09D                     RECVX2:
0003AD D09D 3EFF             7      LD  A,0FFH
0003AF D09F CDA5D0          17      CALL    XMIT
0003B2 D0A2 303D            12      JR  NC,RECV
0003B4 D0A4 C9              10      RET
                                
       D0A5                     XMIT:
0003B5 D0A5 C5              11      PUSH    BC
0003B6 D0A6 D5              11      PUSH    DE
0003B7 D0A7 01911F          10      LD  BC,1F91H
0003BA D0AA 3E10             7      LD  A,10H       ;½Ã°À½¥Ø¾¯Ä
0003BC D0AC ED79            12      OUT (C),A
0003BE D0AE ED50            12      IN  D,(C)
0003C0 D0B0 0D               4      DEC C
0003C1 D0B1 7B               4      LD  A,E
0003C2 D0B2 0F               4      RRCA
0003C3 D0B3 0F               4      RRCA
0003C4 D0B4 0F               4      RRCA
0003C5 D0B5 0F               4      RRCA
0003C6 D0B6 E60F             7      AND 0FH
0003C8 D0B8 ED79            12      OUT (C),A
0003CA D0BA 0C               4      INC C
       D0BB                     XMIT1:
0003CB D0BB CD26D1          17      CALL    BREAK2
0003CE D0BE 3E10             7      LD  A,10H       ;½Ã°À½¥Ø¾¯Ä
0003D0 D0C0 ED79            12      OUT (C),A
0003D2 D0C2 ED78            12      IN  A,(C)
0003D4 D0C4 AA               4      XOR D
0003D5 D0C5 E608             7      AND 8
0003D7 D0C7 28F2            12      JR  Z,XMIT1
0003D9 D0C9 0D               4      DEC C
0003DA D0CA 7B               4      LD  A,E
0003DB D0CB E60F             7      AND 0FH
0003DD D0CD ED79            12      OUT (C),A
0003DF D0CF 0C               4      INC C
       D0D0                     XMIT2:
0003E0 D0D0 CD26D1          17      CALL    BREAK2
0003E3 D0D3 3E10             7      LD  A,10H       ;½Ã°À½¥Ø¾¯Ä
0003E5 D0D5 ED79            12      OUT (C),A
0003E7 D0D7 ED78            12      IN  A,(C)
0003E9 D0D9 AA               4      XOR D
0003EA D0DA E608             7      AND 8
0003EC D0DC 20F2            12      JR  NZ,XMIT2
0003EE D0DE D1              10      POP DE
0003EF D0DF C1              10      POP BC
0003F0 D0E0 C9              10      RET
                                
       D0E1                     RECV:
0003F1 D0E1 C5              11      PUSH    BC
0003F2 D0E2 D5              11      PUSH    DE
0003F3 D0E3 01911F          10      LD  BC,1F91H
       D0E6                     REC1:
0003F6 D0E6 CD26D1          17      CALL    BREAK2
0003F9 D0E9 ED78            12      IN  A,(C)
0003FB D0EB 0F               4      RRCA            ;±×²ÍÞÙ
0003FC D0EC 30F8            12      JR  NC,REC1
0003FE D0EE 0D               4      DEC C
0003FF D0EF ED58            12      IN  E,(C)       ;ÃÞ°À ÖÐÀÞ¼
000401 D0F1 0C               4      INC C
000402 D0F2 3E05             7      LD  A,5
000404 D0F4 ED79            12      OUT (C),A
000406 D0F6 3A31CE          13      LD  A,(WR5)
000409 D0F9 EE80             7      XOR 80H
00040B D0FB ED79            12      OUT (C),A
00040D D0FD 3231CE          13      LD  (WR5),A
       D100                     REC2:
000410 D100 CD26D1          17      CALL    BREAK2
000413 D103 ED78            12      IN  A,(C)
000415 D105 0F               4      RRCA            ;±×²ÍÞÙ
000416 D106 30F8            12      JR  NC,REC2
000418 D108 0D               4      DEC C
000419 D109 ED78            12      IN  A,(C)       ;ÃÞ°À ÖÐÀÞ¼
00041B D10B E60F             7      AND 0FH
00041D D10D 57               4      LD  D,A
00041E D10E 0C               4      INC C
00041F D10F 3E05             7      LD  A,5
000421 D111 ED79            12      OUT (C),A
000423 D113 3A31CE          13      LD  A,(WR5)
000426 D116 EE80             7      XOR 80H
000428 D118 ED79            12      OUT (C),A
00042A D11A 3231CE          13      LD  (WR5),A
00042D D11D 7B               4      LD  A,E
00042E D11E 87               4      ADD A,A
00042F D11F 87               4      ADD A,A
000430 D120 87               4      ADD A,A
000431 D121 87               4      ADD A,A
000432 D122 82               4      ADD A,D
       D123                     BREAK2X:
000433 D123 D1              10      POP DE
000434 D124 C1              10      POP BC
000435 D125 C9              10      RET
                                
       D126                     BREAK2:
000436 D126 3A92F1          13      LD  A,(STABLE+92H)
000439 D129 FE1B             7      CP  1BH
00043B D12B 2803            12      JR  Z,BREAK2Z
00043D D12D FE03             7      CP  3
00043F D12F C0              11      RET NZ
       D130                     BREAK2Z:
000440 D130 37               4      SCF
000441 D131 9F               4      SBC A,A
000442 D132 D1              10      POP DE
000443 D133 18EE            12      JR  BREAK2X
                                
       D135                     DATA:
000445 D135                         DS  8
       D13D                     FIN:
[EOF:RLC.ASM:SHIFT_JIS]
