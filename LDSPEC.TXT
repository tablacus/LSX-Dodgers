・LSX-Dodgers
・スペック

・ファイル名

 データをディスクに記録する時、データはそれぞれファイルに入れて記録します。
 そのためファイルには別々の名前を付けておかないといけません。


 ファイル名は半角文字で8文字まで+拡張子3文字までで構成されます。


 英小文字は大文字に変換されます。

 システムで使用するため以下の半角文字をファイルネームと拡張子の途中に使えません。

 :    ;    ,    .    *  +  /  =  ?  \
コロン セミコロン コンマ ピリオド

 Human68k,MS-DOS,MSX-DOSとの互換の為には必ず以下の文字を用いて下さい

 A～Z 0～9 & # ( ) @
 ^ { } ! カナ文字(+カナ記号)

 これら以外の文字を使用するとHuman68kやMS-DOSやMSX-DOSでアクセス
できなくなることがあります。



・階層ディレクトリ

[<ドライブ名>:][\][<ディレクトリ名>\]…[<ディレクトリ名>\]<ファイル名>[.<拡張子>]

ファイル名までの[\][ディレクトリ名\]…[ディレクトリ名\]がパス名になります。

ここで、「\」はパス名を通すためのディレクトリ名およびファイル名を区切るための
区切り記号です。
ただし、いちばん最初の「\」は、ルートディレクトリを表わすシンボルとなります。
「\」をいちばん最初に書くとルートディレクトリからの絶対指定になります。

「..」は一つ前の親ディレクトリを示します。

..\ファイルネーム

とすると一つ戻ってファイルを指定出来ます。(相対指定)


 プログラムによってはディレクトリを指定してもカレント・ディレクトリが有効と
なる場合があります。



・コマンド

 コマンドは大文字でも小文字でも受け付けます。またファイル名も大文字でも小文字
でもアクセス出来ますが作成されるファイル名は大文字になります。


	例)B:ドライブのディレクトリ一覧を表示させる場合(内部コマンド)
	DIR B:


外部コマンドの拡張子は「.COM」と「.CPM」です。バッチファイルの拡張子は「.BAT」です。
 実行の際には拡張子の入力を省略出来ます。外部コマンドはカレント・ディレクトリ、PATHで指定し
たサーチパスで指定されたディレクトリの順にサーチします。


パラメータをわたす場合コマンドの後ろにスペースを入れて下さい。


	外部コマンドの例
	WIN TEXT.DOC
	B:WIN TEXT.DOC


・コマンドシェル備考

 X1/turbo/Z版LSX-Dodgersには常に以下の機能があります

 CTRL + GRAPH + DEL	ソフトウェアリセット



・バッチ処理

 複数のコマンドを順に並べたファイルをバッチ・ファイルといい、バッチ・ファイルを使ってコマンドをまとめ
て処理することができます。また、仮のパラメータ(%1～%9)を使うことができます。%1は
コマンドの後にくる最初のパラメータとなり%2は2番目のパラメータとなります。

	バッチファイルの例:MOVE.BAT
	COPY %1 %2
	DEL %1


	MOVE.BATの実行例
	A>MOVE A:X1.ASM B:

	この場合、仮のパラメータ %1 は X1.ASM となり
			   %2 は B: になります。

	上記のコマンドを入力すると
	最初の COPY %1 %2 では COPY A:X1.ASM B: が実行され
	次の  DEL %1     では DEL A:X1.ASM      が実行されます。

・バッチ処理備考

 バッチ・ファイルの拡張子は.BATにします。実行の際には拡張子を省略できます。
 LDのバッチ・バッファはパラメータを含めて255文字までです。

 起動時にはAUTOEXECというコマンドを実行します。最初のパラメータ(%1)にはカレント・ドライブが
設定されています。



・テンプレート

 コマンド・ラインで[F3]キーを押すと前回実行したコマンドとパラメータが入力されます。



・ドライブ構成(X1/turbo/Z)

@:	カレント・ドライブ
A:	フロッピー・ディスク0
B:	フロッピー・ディスク1
C:	フロッピー・ディスク2
D:	フロッピー・ディスク3
E:	EMM				(要EMMボード)
F:	バンク・メモリ・ディスク	(要バンクメモリ)
G:	グラフィック・ラム・ディスク	(X1-バンク0,X1turbo-バンク1)
H:	空き


 フロッピーディスクドライブは2D(360kB)/2DD(640kB)/2DD(720kB)/2HC(1.2MB)/
2HD(1.2MB)/IBM(1.44MB)/2HDE(1.44MB)を自動判別します。

2DDは基本的に外部に増設したドライブ専用です。

 2HC(1.2MB)/2HD(1.2MB)/2HDE(1.44MB)/2HS(1.44MB)はX1turboシリーズと
2HDの読み書きができるドライブが必要です。

 IBM(1.44MB)はX1turboシリーズと300rpmで2HDの読み書きができるドライブが必要です。
通常の2HDドライブは360rpmです。360rpmのドライブでもドライブのマージンにより読み
込みができる場合がありますが書き込みはできません。

 EMM/バンク・メモリ・ディスク/グラフィック・ラム・ディスクも
LAのERAD.BIN/HERAD.BIN,BRAD.BIN,GRAD.BINと互換性があります。
EMMとバンク・メモリ・ディスクは容量を自動的に測定します。

 RAMディスクはフォーマットしていないと使用できません。


・ドライブ構成(MZ-700/1500)

@:	カレント・ドライブ
A:	フロッピー・ディスク0
B:	フロッピー・ディスク1
C:	空き
D:	空き
E:	EMM				(要EMMボード)
F:	空き
G:	空き
H:	空き

 フロッピーディスクドライブは2D(360kB)/2DD(640kB)/2DD(720kB)を自動判別します。


・エスケープ・シーケンス

 画面の制御を行なうのに特殊な文字列・エスケープ・シーケンス(ESCape sequence)を
用います。
このエスケープ・シーケンスはエスケープ文字(ASCIIコードの$1B)とそれに続く文字列に
よって表されます。
この特殊な文字列をシステム・コールを用いてコンソール出力する事で画面制御を
行なえます。

	◇カーソル移動
	<ESC>A		カーソルを上に移動
	<ESC>B		カーソルを下に移動
	<ESC>C		カーソルを右に移動
	<ESC>D		カーソルを左に移動
	<ESC>H		カーソルをホーム・ポジションに移動
	<ESC>Y<Y座標+$20><X座標+$20>
			カーソルを(X,Y)の位置に移動

	◇編集・削除
	<ESC>j		画面をクリア
	<ESC>E		画面をクリア
	<ESC>K		行の終わりまで削除
	<ESC>J		画面の終わりまで削除
	<ESC>L		1行挿入 *1
	<ESC>M		1行削除 *2

	◇その他
	<ESC>x4	カーソルの形を■にする *2
	<ESC>x5	カーソルを消す *2
	<ESC>y4	カーソルの形を_にする *2
	<ESC>y5	カーソルを表示する *2

	*1 MSX-DOSと動作が異なる
	*2 LSX-Dodgersでは何もしない(MSX-DOSと動作が異なる)



・特殊キー（X1/turbo/Z）

 以下のキーは次の様にエスケープ・シーケンスとして入力されます。

F1		ESC・SPACE
F2		ESC・!
F3		ESC・"
F4		ESC・#
F5		ESC・$
SHIFT + F1	ESC・%
SHIFT + F2	ESC・&
SHIFT + F3	ESC・'
SHIFT + F4	ESC・(
SHIFT + F5	ESC・)
ROLL UP	 ESC・C
ROLL DOWN	ESC・R
HELP		ESC・Q
COPY		ESC・P
XFER		ESC・X



・デバイス・エラー

 LSX-Dodgersではフロッピー・ディスクの読み書きでエラーが発生すると、
エラー・メッセージを表示しそのことを知らせます。
 したがって、エラ・メッセージが表示された場合は、
メッセージに従って適切な処理をして下さい。

 フロッピー・ディスクの読み書きを実行している時にエラーが発生した場合、
次のメッセージが表示されます。


Device I/O Error
Abort Retry Ignore?


 デバイス・エラー・メッセージが表示されたときは A R I のいずれかを押して下さい


A - Abort(中止)

 読み出しまたは書き込みを中止します。
 [R]で再実行してもエラーが繰り返すときには[A]を押して下さい。


R - Retry(再実行)

 処理を再実行します。
 デバイス・エラー・メッセージが表示されたときは、まずこの[R]を押して下さい。


I - Ignore(無視)

 エラーを無視して、そのまま処理を続行します。
複数のファイル処理などをしていて、処理を先に進めたい時等は I を選択します。
ただし、ディスク上のデータが破壊されることがありますので十分な注意が必要です。


eof
